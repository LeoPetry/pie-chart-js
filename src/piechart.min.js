function Piechart(e){this.Pi=3.1415;this.canvas=e;this.context=e.getContext("2d");this.score=e.getAttribute("data-value");this.animFlag=false;this.track=true;this.color="DF2FD2";this.opositeColor="333333";this.textColor="DF2FD2";this.fontStyle="italic 28px sans-serif";this.symbol="";this.radius=50;this.strokeWidth=10;this.direction=false;this.angularSpeed=1.5;this.posx=e.width/2;this.posy=e.height/2}Piechart.prototype.scoreRadians=function(e){var t=e*2*this.Pi/100;return t};Piechart.prototype.radiansScore=function(e){var t=e*100/(2*this.Pi);t=Math.round(t);return t};Piechart.prototype.drawPie=function(e,t){var n=t-e;this.context.beginPath();this.context.arc(this.posx,this.posy,this.radius,e,t,this.direction);this.context.lineWidth=this.strokeWidth;this.context.strokeStyle=this.color;this.context.stroke();if(this.track){this.context.beginPath();this.context.arc(this.posx,this.posy,this.radius,e,t,!this.direction);this.context.lineWidth=this.strokeWidth;this.context.strokeStyle=this.opositeColor;this.context.stroke()}return this.radiansScore(n)};Piechart.prototype.writeMyScore=function(e,t){var n=this.drawPie(e,t);this.context.font=this.fontStyle;this.context.fillStyle=this.textColor;this.context.textAlign="center";this.context.textBaseline="middle";this.context.fillText(String(n)+this.symbol,this.posx,this.posy);return n};Piechart.prototype.makeItDance=function(e,t){if(!this.animFlag){this.startTime=(new Date).getTime();var n=0;this.animFlag=true}else{var n=(new Date).getTime()-this.startTime}var r=n==0?e:this.angularSpeed*n*this.Pi/1e3+e;this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.writeMyScore(e,r);var i=this;if(r<t){requestAnimFrame(function(){i.makeItDance(e,t)})}else{this.context.clearRect(0,0,this.canvas.width,this.canvas.height);this.writeMyScore(e,t)}};window.requestAnimFrame=function(e){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()